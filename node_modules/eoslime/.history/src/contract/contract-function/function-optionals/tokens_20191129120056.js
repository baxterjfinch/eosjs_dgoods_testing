const tokensOptional = function (optionals, rawTransaction) {
    if (optionals && optionals.tokens) {
        if (!Number(`${optionals.tokens.value}`) || `${optionals.tokens.value}`.length == 0) {
            throw new Error('Tokens value should be a valid number');
        }


        console.log(rawTransaction.defaultExecutor)
        rawTransaction.actions.push({
            account: "eosio.token",
            name: "transfer",
            authorization: [rawTransaction.defaultExecutor.executiveAuthority],
            data: {
                from: rawTransaction.defaultExecutor.name,
                to: rawTransaction.actions[0].account,
                quantity: `${optionals.tokens.value} ${optionals.tokens.symbol || 'EOS'}`,
                memo: ""
            }
        });
    }
};

module.exports = tokensOptional;
