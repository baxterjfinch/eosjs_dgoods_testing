const Provider = require('./provider');

class ProvidersFactory {
    constructor(network) {
        this.provider = new Provider(network);
    }

    create(network) {
        const providerProxyHandler = {
            get: (obj, value) => {
                if (!obj.hasOwnProperty(value)) {
                    return this.provider[value];
                }

                return obj[value];
            },
            construct: (target, network) => {
                return new Provider(network);
            }
        }

        return new Proxy({
            reset: function (newProvider) {
                is(newProvider).instanceOf(BaseProvider);
                Object.assign(this.instance, newProvider);
            }
        }, providerProxyHandler);
    }

    reset() {

    }
}

// const provider = constructProvider(network);
// return proxifyProvider(provider);

const proxifyProvider = function (provider) {

}

module.exports = ProvidersFactory;
